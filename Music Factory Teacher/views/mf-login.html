<!-- Language Bar -->
<div class="row language-bar">
  <div class="col-xs-offset-1 col-xs-10">
    <span class="pull-left versioncss">v1.10</span>
    <div class="pull-right choose-language">
      <strong class="language-label" data-ng-bind="ctrl.labels.selectLanguage"></strong>
      <a class="language-bttn" data-ng-click="ctrl.changeLanguage('en')">{{ EN_LANG || 'English' }}</a>
      <a class="language-bttn" ng-click="ctrl.changeLanguage('zh')">{{ ZH_LANG || '中文' }}</a>
    </div>
  </div>
</div>

<div id="login" class="row">
  <div class="wrapper">
    <!-- Login Form -->
    <div class="login-form">
      <div class="col-xs-5 col-xs-offset-1">
        <h2 class="signin-title" data-ng-bind="ctrl.labels.signIn"></h2>
        <a href="#password" class="forgot-password" data-ng-bind="ctrl.labels.forgotPassword">{{ FORGOT_PASSWORD || 'Forgot your password?' }}</a>
        <form ng-submit="ctrl.login(creds)">
          <input id="login-username" class="login-input" placeholder="{{ ctrl.labels.username }}" type="text" data-ng-model="creds.username" data-ng-focus="ctrl.hasLoginError = false"/>
          <input id="login-password" class="login-input" placeholder="{{ ctrl.labels.password }}" type="password" data-ng-model="creds.password" data-ng-focus="ctrl.hasLoginError = false"/>
          <div class="login-error" data-ng-if="ctrl.hasLoginError && ctrl.loginError != 'alreadyLoggedIn'">
            <div class="notification-warning">
              <span data-ng-if="ctrl.loginError =='invalid'" data-ng-bind="ctrl.labels.invalidLogin"></span>
              <span data-ng-if="ctrl.loginError =='deactivated'" data-ng-bind="ctrl.labels.deactivatedUser"></span>
            </div>
          </div>
          <button type="submit" class="bttn bttn-login" data-ng-bind="ctrl.labels.login">{{ LOGIN_BUTTON || 'Log in' }}</button>
          <img src="./img/preloader.GIF" class="preloader-log">
        </form>
        <div class="clearfix"></div>
      </div>
      <div class="col-xs-6">
        <img src="./img/branding-home.png" class="img-responsive"/>
      </div>
      <div class="clearfix"></div>
    </div>

      <!-- Modal -->
      <div class="modal fade" id="alreadyloggedin" tabindex="-1" role="dialog" aria-labelledby="alreadyloggedin">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-body">
              <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
              <div data-ng-bind="ctrl.labels.userLoggedIn" class="message-content">sadfsdf</div>
              <button data-ng-bind="ctrl.labels.logoff" data-ng-click="ctrl.logout()" type="button" class="bttn js-proceed">1</button>
              <button data-ng-bind="ctrl.labels.cancel" type="button" class="bttn js-modal-close pull-right" data-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
      </div> 

  </div>

</div>

<div id="password" class="container-fluid" style="display: none;">
  <div class="wrapper">
    <div class="row">
      <div class="col-xs-5 col-xs-offset-1">
        <div class="clearfix marg-b-10">
          <h2>Reset Your Password</h2>
          <p>Enter your registered email and we'll send instructions to get you back on your feet.</p>
        </div>
        <form>
          <input type="email" placeholder="Email address"/>
          <input type="submit" value="Send" class="bttn" data-role="button"/>
          <a href="#login" class="password-remember">I remember now</a>  
        </form>
      </div>
      <div class="col-xs-6">
        <img src="./img/branding-home.png" class="img-responsive"/>
      </div>
    </div>
  </div>
</div>
<div class="preloader-mf"><div class="preloader-mf-img"></div></div>

<script>
  $('#login').height( $(window).outerHeight() - $('.language-bar').outerHeight() + 38);

  $('#alreadyloggedin').on('show.bs.modal', reposition);

  $(window).on('resize', function() {
      $('#alreadyloggedin:visible').each(reposition);
  });

  function reposition() {
      var modal = $(this),
          dialog = modal.find('.modal-dialog');

      modal.css('display', 'block');
      dialog.css("margin-top", Math.max(0, ($(window).height() - dialog.height()) / 2));
  }
</script>
